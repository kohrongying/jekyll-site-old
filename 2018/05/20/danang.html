<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">

<title>Da Nang</title>
<meta name="description" content="Hello, it took nearly 5 months to get the first post of the year out. So just some updates, ended SUTD end of April 2018 and immediately went on a trip to Vi...">

<!-- Begin Jekyll SEO tag v2.3.0 -->
<title>Da Nang | The Rong Things</title>
<meta property="og:title" content="Da Nang" />
<meta name="author" content="Koh Rong Ying" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Hello, it took nearly 5 months to get the first post of the year out. So just some updates, ended SUTD end of April 2018 and immediately went on a trip to Vietnam with SUTD friends! We took advantage of the mayday weekend and went to Da Nang for a 5 day trip :) While on the trip, bosses at work were sharing an NY article and saying how interactive it was. So, I decided to see if I could build one from scratch as well! So yes. Tldr, I did. See some of my photos and the final outcome here! HTML Markup So basically, the image will be fixed while text is scrollable. What I had in mind was a single 100% width and height section per image and caption and within that section, two &lt;div&gt;s, each 50% width. This was the HTML markup. &lt;section class=&quot;page&quot;&gt; &lt;div class=&quot;page__image&quot;&gt;&lt;/div&gt; &lt;div class=&quot;page__text&quot;&gt; &lt;div class=&quot;page__text--group&quot;&gt; &lt;h1&gt;bana hills&lt;/h1&gt; &lt;p&gt;a resort on a hill that was named after banana trees.&lt;/p&gt; &lt;/div&gt; &lt;/div&gt; &lt;/section&gt; I tried to follow BEM standards, using page as my block, page__image and page__text as my elements and lastly, page__text--group as a modifier (not really modifying but it was cool as an identifier). Styles For styles, it was kind of tricky at first. The key was giving the image a position of fixed and giving the text the position of absolute. The fixed position property will keep the image fixed as you scroll. However, without setting opacity: 0 you will realise that you can only see the uppermost image. Also, without setting top: 0, you will realise you can only see the first image. section.page { width: 100%; height: 100vh; .page__image { left: 0; top: 0; width: 50%; background-size: cover; background-position: center; height: 100vh; position: fixed; opacity: 0; } .page__text { right: 0; width: 50%; height: 100vh; position: absolute; display: flex; align-items: center; justify-content: center; flex-direction: column; .page__text--group { width: 60%; word-wrap: break-word; text-align: center; } } } Images are loaded as background images. Instead of manually setting the images, I use a for loop in scss! Quite fun, although you still have to manually set the maximum number of images and also ensure the naming of your images is standardized. @for $i from 0 through 7 { .page[data-page=&quot;#{$i}&quot;] { .page__image { background-image: url(&quot;../img/img#{$i}-small.jpg&quot;); } } } Javascript Alright, I use jQuery to help decide which page is active and which is not. I first create an array of all my pages. I keep track of the current page and what comes before and after it. let slides = [] const PAGES = $(&#39;.page&#39;); PAGES.each(function(index, value){ this.setAttribute(&#39;data-page&#39;, index); if (index==0) { slides.push({ current: this, prev: PAGES[PAGES.length-1], next: PAGES[1] }) } else if (index==PAGES.length-1) { slides.push({ current: this, prev: PAGES[PAGES.length-2], next: PAGES[0] }) } else { slides.push({ current: this, prev: PAGES[index-1], next: PAGES[index+1] }) } }) Then using the $(window).scroll event handler, we bind a function to it that calculates the pageYOffset (how far down the user has scrolled). I define a variable called page_progress which is the page offset divided by the height of the window. If the rounded number is larger than the current number of pages travelled, I increment number of pages travelled and fadeIn the new image so the the new image has an opacity of 1 and overlaps the previous images. So the logic is that we don’t remove the images, imagine the images all stacked on each other (because they have the same fixed position due to left: 0 top: 0;) and they are all transparent (opacity: 0). When I’ve scrolled past a certain limit, they become opaque. Image 1 is at the bottom, then Image 2 is stacked on it, meaning the last Image is right at the top of the stack. (On hindsight, is it a stack implementation?) Somewhat haha. const height = $(window).height(); let num_pages_travelled = 0; const max_pages = $(&#39;.page&#39;).length - 1; $(window).scroll(function() { let page_progress = Math.round(this.pageYOffset/height); page_progress = Math.min(page_progress, max_pages); if (page_progress &gt; num_pages_travelled) { num_pages_travelled++; let next = $(slides[num_pages_travelled].current); next.addClass(&#39;active&#39;).removeClass(&#39;inactive&#39;); } else if (page_progress &lt; num_pages_travelled) { let past = $(slides[num_pages_travelled].current); past.removeClass(&#39;active&#39;).addClass(&#39;inactive&#39;); num_pages_travelled--; } }); Image Transitions I used CSS animations and keyframes to animate fade in and fade out tranisitons by altering opacity of the images. .active { .page__image { animation: fadeIn 0.4s ease both; } } .inactive { .page__image { animation: fadeOut 0.4s ease both; } } @keyframes fadeIn { 0% {opacity:0;} 50% {opacity:0.5;} 100% {opacity:1;} } @keyframes fadeOut { 0% {opacity:1;} 50% {opacity:0.5;} 100% {opacity:0;} } The animation is applied on classes which would be added or removed on the HTML elements using jQuery. Responsiveness Add media query at the 767/768 breakpoint! So now the image and text both take up 100% width and the text is placed at the top. It has a nice scrolling/parallax effect that was kind of unintended hehe. Image Resizing My images were taken with a semi-good camera. The dimensions were like ranging from 2000 pixels x 1000 pixels. Granted, the loading speed for images was so high it took too long to load the page. It took 7 seconds (LOL so embarrassed). I had the website up and the scrolling up, I was very proud already. Then come optimizing which is something equally important. We all understand that people on the web can be so impatient and its important to serve files quickly. Thankfully there were two easy remedies: I used gulp library gulp-imagemin to help me optimize my images. However, the size of images dropped by 10% at most. Thanks to JIayu, I used Imagick to convert and resize the images using the command convert *.jgp -resize 700x700. It was super effective! Image size dropped by 90% and the resolution didn’t affect the quality of the image much because the image was rendering at a smaller size by the browser anyway. For exploration next time: the use of srcset attribute in &lt;img&gt; to load different assets based on the different screen resolutions. It took about 1.5s in the new page load! Ok not that fantastic but yay! It does motivate people to do more :) Final Words IM GLAD I GOT IT OUT. Check out the repo?" />
<meta property="og:description" content="Hello, it took nearly 5 months to get the first post of the year out. So just some updates, ended SUTD end of April 2018 and immediately went on a trip to Vietnam with SUTD friends! We took advantage of the mayday weekend and went to Da Nang for a 5 day trip :) While on the trip, bosses at work were sharing an NY article and saying how interactive it was. So, I decided to see if I could build one from scratch as well! So yes. Tldr, I did. See some of my photos and the final outcome here! HTML Markup So basically, the image will be fixed while text is scrollable. What I had in mind was a single 100% width and height section per image and caption and within that section, two &lt;div&gt;s, each 50% width. This was the HTML markup. &lt;section class=&quot;page&quot;&gt; &lt;div class=&quot;page__image&quot;&gt;&lt;/div&gt; &lt;div class=&quot;page__text&quot;&gt; &lt;div class=&quot;page__text--group&quot;&gt; &lt;h1&gt;bana hills&lt;/h1&gt; &lt;p&gt;a resort on a hill that was named after banana trees.&lt;/p&gt; &lt;/div&gt; &lt;/div&gt; &lt;/section&gt; I tried to follow BEM standards, using page as my block, page__image and page__text as my elements and lastly, page__text--group as a modifier (not really modifying but it was cool as an identifier). Styles For styles, it was kind of tricky at first. The key was giving the image a position of fixed and giving the text the position of absolute. The fixed position property will keep the image fixed as you scroll. However, without setting opacity: 0 you will realise that you can only see the uppermost image. Also, without setting top: 0, you will realise you can only see the first image. section.page { width: 100%; height: 100vh; .page__image { left: 0; top: 0; width: 50%; background-size: cover; background-position: center; height: 100vh; position: fixed; opacity: 0; } .page__text { right: 0; width: 50%; height: 100vh; position: absolute; display: flex; align-items: center; justify-content: center; flex-direction: column; .page__text--group { width: 60%; word-wrap: break-word; text-align: center; } } } Images are loaded as background images. Instead of manually setting the images, I use a for loop in scss! Quite fun, although you still have to manually set the maximum number of images and also ensure the naming of your images is standardized. @for $i from 0 through 7 { .page[data-page=&quot;#{$i}&quot;] { .page__image { background-image: url(&quot;../img/img#{$i}-small.jpg&quot;); } } } Javascript Alright, I use jQuery to help decide which page is active and which is not. I first create an array of all my pages. I keep track of the current page and what comes before and after it. let slides = [] const PAGES = $(&#39;.page&#39;); PAGES.each(function(index, value){ this.setAttribute(&#39;data-page&#39;, index); if (index==0) { slides.push({ current: this, prev: PAGES[PAGES.length-1], next: PAGES[1] }) } else if (index==PAGES.length-1) { slides.push({ current: this, prev: PAGES[PAGES.length-2], next: PAGES[0] }) } else { slides.push({ current: this, prev: PAGES[index-1], next: PAGES[index+1] }) } }) Then using the $(window).scroll event handler, we bind a function to it that calculates the pageYOffset (how far down the user has scrolled). I define a variable called page_progress which is the page offset divided by the height of the window. If the rounded number is larger than the current number of pages travelled, I increment number of pages travelled and fadeIn the new image so the the new image has an opacity of 1 and overlaps the previous images. So the logic is that we don’t remove the images, imagine the images all stacked on each other (because they have the same fixed position due to left: 0 top: 0;) and they are all transparent (opacity: 0). When I’ve scrolled past a certain limit, they become opaque. Image 1 is at the bottom, then Image 2 is stacked on it, meaning the last Image is right at the top of the stack. (On hindsight, is it a stack implementation?) Somewhat haha. const height = $(window).height(); let num_pages_travelled = 0; const max_pages = $(&#39;.page&#39;).length - 1; $(window).scroll(function() { let page_progress = Math.round(this.pageYOffset/height); page_progress = Math.min(page_progress, max_pages); if (page_progress &gt; num_pages_travelled) { num_pages_travelled++; let next = $(slides[num_pages_travelled].current); next.addClass(&#39;active&#39;).removeClass(&#39;inactive&#39;); } else if (page_progress &lt; num_pages_travelled) { let past = $(slides[num_pages_travelled].current); past.removeClass(&#39;active&#39;).addClass(&#39;inactive&#39;); num_pages_travelled--; } }); Image Transitions I used CSS animations and keyframes to animate fade in and fade out tranisitons by altering opacity of the images. .active { .page__image { animation: fadeIn 0.4s ease both; } } .inactive { .page__image { animation: fadeOut 0.4s ease both; } } @keyframes fadeIn { 0% {opacity:0;} 50% {opacity:0.5;} 100% {opacity:1;} } @keyframes fadeOut { 0% {opacity:1;} 50% {opacity:0.5;} 100% {opacity:0;} } The animation is applied on classes which would be added or removed on the HTML elements using jQuery. Responsiveness Add media query at the 767/768 breakpoint! So now the image and text both take up 100% width and the text is placed at the top. It has a nice scrolling/parallax effect that was kind of unintended hehe. Image Resizing My images were taken with a semi-good camera. The dimensions were like ranging from 2000 pixels x 1000 pixels. Granted, the loading speed for images was so high it took too long to load the page. It took 7 seconds (LOL so embarrassed). I had the website up and the scrolling up, I was very proud already. Then come optimizing which is something equally important. We all understand that people on the web can be so impatient and its important to serve files quickly. Thankfully there were two easy remedies: I used gulp library gulp-imagemin to help me optimize my images. However, the size of images dropped by 10% at most. Thanks to JIayu, I used Imagick to convert and resize the images using the command convert *.jgp -resize 700x700. It was super effective! Image size dropped by 90% and the resolution didn’t affect the quality of the image much because the image was rendering at a smaller size by the browser anyway. For exploration next time: the use of srcset attribute in &lt;img&gt; to load different assets based on the different screen resolutions. It took about 1.5s in the new page load! Ok not that fantastic but yay! It does motivate people to do more :) Final Words IM GLAD I GOT IT OUT. Check out the repo?" />
<link rel="canonical" href="http://localhost:4000/2018/05/20/danang" />
<meta property="og:url" content="http://localhost:4000/2018/05/20/danang" />
<meta property="og:site_name" content="The Rong Things" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2018-05-20T00:00:00+08:00" />
<script type="application/ld+json">
{"name":null,"description":"Hello, it took nearly 5 months to get the first post of the year out. So just some updates, ended SUTD end of April 2018 and immediately went on a trip to Vietnam with SUTD friends! We took advantage of the mayday weekend and went to Da Nang for a 5 day trip :) While on the trip, bosses at work were sharing an NY article and saying how interactive it was. So, I decided to see if I could build one from scratch as well! So yes. Tldr, I did. See some of my photos and the final outcome here! HTML Markup So basically, the image will be fixed while text is scrollable. What I had in mind was a single 100% width and height section per image and caption and within that section, two &lt;div&gt;s, each 50% width. This was the HTML markup. &lt;section class=&quot;page&quot;&gt; &lt;div class=&quot;page__image&quot;&gt;&lt;/div&gt; &lt;div class=&quot;page__text&quot;&gt; &lt;div class=&quot;page__text--group&quot;&gt; &lt;h1&gt;bana hills&lt;/h1&gt; &lt;p&gt;a resort on a hill that was named after banana trees.&lt;/p&gt; &lt;/div&gt; &lt;/div&gt; &lt;/section&gt; I tried to follow BEM standards, using page as my block, page__image and page__text as my elements and lastly, page__text--group as a modifier (not really modifying but it was cool as an identifier). Styles For styles, it was kind of tricky at first. The key was giving the image a position of fixed and giving the text the position of absolute. The fixed position property will keep the image fixed as you scroll. However, without setting opacity: 0 you will realise that you can only see the uppermost image. Also, without setting top: 0, you will realise you can only see the first image. section.page { width: 100%; height: 100vh; .page__image { left: 0; top: 0; width: 50%; background-size: cover; background-position: center; height: 100vh; position: fixed; opacity: 0; } .page__text { right: 0; width: 50%; height: 100vh; position: absolute; display: flex; align-items: center; justify-content: center; flex-direction: column; .page__text--group { width: 60%; word-wrap: break-word; text-align: center; } } } Images are loaded as background images. Instead of manually setting the images, I use a for loop in scss! Quite fun, although you still have to manually set the maximum number of images and also ensure the naming of your images is standardized. @for $i from 0 through 7 { .page[data-page=&quot;#{$i}&quot;] { .page__image { background-image: url(&quot;../img/img#{$i}-small.jpg&quot;); } } } Javascript Alright, I use jQuery to help decide which page is active and which is not. I first create an array of all my pages. I keep track of the current page and what comes before and after it. let slides = [] const PAGES = $(&#39;.page&#39;); PAGES.each(function(index, value){ this.setAttribute(&#39;data-page&#39;, index); if (index==0) { slides.push({ current: this, prev: PAGES[PAGES.length-1], next: PAGES[1] }) } else if (index==PAGES.length-1) { slides.push({ current: this, prev: PAGES[PAGES.length-2], next: PAGES[0] }) } else { slides.push({ current: this, prev: PAGES[index-1], next: PAGES[index+1] }) } }) Then using the $(window).scroll event handler, we bind a function to it that calculates the pageYOffset (how far down the user has scrolled). I define a variable called page_progress which is the page offset divided by the height of the window. If the rounded number is larger than the current number of pages travelled, I increment number of pages travelled and fadeIn the new image so the the new image has an opacity of 1 and overlaps the previous images. So the logic is that we don’t remove the images, imagine the images all stacked on each other (because they have the same fixed position due to left: 0 top: 0;) and they are all transparent (opacity: 0). When I’ve scrolled past a certain limit, they become opaque. Image 1 is at the bottom, then Image 2 is stacked on it, meaning the last Image is right at the top of the stack. (On hindsight, is it a stack implementation?) Somewhat haha. const height = $(window).height(); let num_pages_travelled = 0; const max_pages = $(&#39;.page&#39;).length - 1; $(window).scroll(function() { let page_progress = Math.round(this.pageYOffset/height); page_progress = Math.min(page_progress, max_pages); if (page_progress &gt; num_pages_travelled) { num_pages_travelled++; let next = $(slides[num_pages_travelled].current); next.addClass(&#39;active&#39;).removeClass(&#39;inactive&#39;); } else if (page_progress &lt; num_pages_travelled) { let past = $(slides[num_pages_travelled].current); past.removeClass(&#39;active&#39;).addClass(&#39;inactive&#39;); num_pages_travelled--; } }); Image Transitions I used CSS animations and keyframes to animate fade in and fade out tranisitons by altering opacity of the images. .active { .page__image { animation: fadeIn 0.4s ease both; } } .inactive { .page__image { animation: fadeOut 0.4s ease both; } } @keyframes fadeIn { 0% {opacity:0;} 50% {opacity:0.5;} 100% {opacity:1;} } @keyframes fadeOut { 0% {opacity:1;} 50% {opacity:0.5;} 100% {opacity:0;} } The animation is applied on classes which would be added or removed on the HTML elements using jQuery. Responsiveness Add media query at the 767/768 breakpoint! So now the image and text both take up 100% width and the text is placed at the top. It has a nice scrolling/parallax effect that was kind of unintended hehe. Image Resizing My images were taken with a semi-good camera. The dimensions were like ranging from 2000 pixels x 1000 pixels. Granted, the loading speed for images was so high it took too long to load the page. It took 7 seconds (LOL so embarrassed). I had the website up and the scrolling up, I was very proud already. Then come optimizing which is something equally important. We all understand that people on the web can be so impatient and its important to serve files quickly. Thankfully there were two easy remedies: I used gulp library gulp-imagemin to help me optimize my images. However, the size of images dropped by 10% at most. Thanks to JIayu, I used Imagick to convert and resize the images using the command convert *.jgp -resize 700x700. It was super effective! Image size dropped by 90% and the resolution didn’t affect the quality of the image much because the image was rendering at a smaller size by the browser anyway. For exploration next time: the use of srcset attribute in &lt;img&gt; to load different assets based on the different screen resolutions. It took about 1.5s in the new page load! Ok not that fantastic but yay! It does motivate people to do more :) Final Words IM GLAD I GOT IT OUT. Check out the repo?","author":{"@type":"Person","name":"Koh Rong Ying"},"@type":"BlogPosting","url":"http://localhost:4000/2018/05/20/danang","image":null,"publisher":null,"headline":"Da Nang","dateModified":"2018-05-20T00:00:00+08:00","datePublished":"2018-05-20T00:00:00+08:00","sameAs":null,"mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/2018/05/20/danang"},"@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->


<link rel="canonical" href="http://localhost:4000/2018/05/20/danang">
<link rel="alternate" type="application/rss+xml" title="The Rong Things" href="http://localhost:4000/feed.xml">

<link crossorigin='anonymous' href='https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/css/bootstrap.min.css' integrity='sha384-rwoIResjU2yc3z8GV/NPeZWAv56rSmLldC3R/AZzGRnGxQQKnKkoFVhFQhNUwEyJ' rel='stylesheet'>
<script crossorigin='anonymous' integrity='sha384-A7FZj7v+d/sdmMqp/nOQwliLvUsJfDHW+k9Omg/a/EheAdgtzNs3hpfag6Ed950n' src='https://code.jquery.com/jquery-3.1.1.slim.min.js'></script>
<script crossorigin='anonymous' integrity='sha384-vBWWzlZJ8ea9aCX4pEW3rVHjgjt7zpkNpZk+02D9phzyeVkE+jo0ieGizqPLForn' src='https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/js/bootstrap.min.js'></script>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">

<link rel="stylesheet" href="/css/main.css">
    

  </head>
  <body>

    <section class="section__banner"> 
  <header class="site-header">
      <nav class="navbar sticky-top navbar-toggleable-md navbar-light mynavbar">
        <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#navbarTogglerDemo02" aria-controls="navbarTogglerDemo02" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>

        <a class="navbar-brand" href="/">The Rong Things</a>

        <div class="collapse navbar-collapse" id="navbarTogglerDemo02">
          <ul class="navbar-nav ml-auto mt-2 mt-md-0">
          
               
          
               
            <li class="nav-item">
              <a class="nav-link" href="/chapalang">Chapalang</a>
            </li>
            
          
               
          
               
            <li class="nav-item">
              <a class="nav-link" href="/blog/">Blog</a>
            </li>
            
          
               
            <li class="nav-item">
              <a class="nav-link" href="/portfolio/">Portfolio</a>
            </li>
            
          
               
          
               
          
               
          
               
          

          </ul>

        </div>
      </nav>


      <div class="section__title">
        <h1>Da Nang</h1>

        
      </div>

  </header>
</section>
    

    <div class="content-container">
      <article class="post" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <p class="post-meta text-center"><time datetime="2018-05-20T00:00:00+08:00" itemprop="datePublished">May 20, 2018</time></p>
  </header>

  <div class="container" itemprop="articleBody">
    <p><img src="/assets/posts/006.jpg" alt="Screenshot of web version" class="img-fluid" /></p>

<p>Hello, it took nearly 5 months to get the first post of the year out. So just some updates, ended SUTD end of April 2018 and immediately went on a trip to Vietnam with SUTD friends! We took advantage of the mayday weekend and went to Da Nang for a 5 day trip :) While on the trip, bosses at work were sharing an <a href="https://www.nytimes.com/interactive/2018/04/30/us/detroit-come-back-budget.html">NY article</a> and saying how interactive it was. So, I decided to see if I could build one from scratch as well!</p>

<p>So yes. Tldr, I did. See some of my photos and the final outcome <a href="https://kohrongying.github.io/danang/">here!</a></p>

<h2 id="html-markup">HTML Markup</h2>
<p>So basically, the image will be fixed while text is scrollable. What I had in mind was a single 100% width and height section per image and caption and within that section, two <code class="highlighter-rouge">&lt;div&gt;</code>s, each 50% width. This was the HTML markup.</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="nt">&lt;section</span> <span class="na">class=</span><span class="s">"page"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"page__image"</span><span class="nt">&gt;&lt;/div&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"page__text"</span><span class="nt">&gt;</span>
        <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"page__text--group"</span><span class="nt">&gt;</span>
            <span class="nt">&lt;h1&gt;</span>bana hills<span class="nt">&lt;/h1&gt;</span> 
            <span class="nt">&lt;p&gt;</span>a resort on a hill that was named after banana trees.<span class="nt">&lt;/p&gt;</span>
        <span class="nt">&lt;/div&gt;</span>
    <span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/section&gt;</span>
</code></pre></div></div>

<p>I tried to follow <a href="http://getbem.com/">BEM standards</a>, using <code class="highlighter-rouge">page</code> as my block, <code class="highlighter-rouge">page__image</code> and <code class="highlighter-rouge">page__text</code> as my elements and lastly, <code class="highlighter-rouge">page__text--group</code> as a modifier (not really modifying but it was cool as an identifier).</p>

<h2 id="styles">Styles</h2>
<p>For styles, it was kind of tricky at first. The key was giving the image a position of <code class="highlighter-rouge">fixed</code> and giving the text the position of <code class="highlighter-rouge">absolute</code>. The fixed position property will keep the image fixed as you scroll. However, without setting <code class="highlighter-rouge">opacity: 0</code> you will realise that you can only see the uppermost image. Also, without setting <code class="highlighter-rouge">top: 0</code>, you will realise you can only see the first image.</p>

<div class="language-scss highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">section</span><span class="nc">.page</span> <span class="p">{</span>
    <span class="nl">width</span><span class="p">:</span> <span class="m">100%</span><span class="p">;</span>
    <span class="nl">height</span><span class="p">:</span> <span class="m">100vh</span><span class="p">;</span>

    <span class="nc">.page__image</span> <span class="p">{</span>
        <span class="nl">left</span><span class="p">:</span> <span class="m">0</span><span class="p">;</span>
        <span class="nl">top</span><span class="p">:</span> <span class="m">0</span><span class="p">;</span>
        <span class="nl">width</span><span class="p">:</span> <span class="m">50%</span><span class="p">;</span>
        <span class="nl">background-size</span><span class="p">:</span> <span class="n">cover</span><span class="p">;</span>
        <span class="nl">background-position</span><span class="p">:</span> <span class="nb">center</span><span class="p">;</span>
        <span class="nl">height</span><span class="p">:</span> <span class="m">100vh</span><span class="p">;</span>
        <span class="nl">position</span><span class="p">:</span> <span class="nb">fixed</span><span class="p">;</span>
        <span class="nl">opacity</span><span class="p">:</span> <span class="m">0</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="nc">.page__text</span> <span class="p">{</span>
        <span class="nl">right</span><span class="p">:</span> <span class="m">0</span><span class="p">;</span>
        <span class="nl">width</span><span class="p">:</span> <span class="m">50%</span><span class="p">;</span>
        <span class="nl">height</span><span class="p">:</span> <span class="m">100vh</span><span class="p">;</span>
        <span class="nl">position</span><span class="p">:</span> <span class="nb">absolute</span><span class="p">;</span>

        <span class="nl">display</span><span class="p">:</span> <span class="n">flex</span><span class="p">;</span>
        <span class="nl">align-items</span><span class="p">:</span> <span class="nb">center</span><span class="p">;</span>
        <span class="nl">justify-content</span><span class="p">:</span> <span class="nb">center</span><span class="p">;</span>    
        <span class="nl">flex-direction</span><span class="p">:</span> <span class="n">column</span><span class="p">;</span>

        <span class="nc">.page__text--group</span> <span class="p">{</span>
            <span class="nl">width</span><span class="p">:</span> <span class="m">60%</span><span class="p">;</span>
            <span class="nl">word-wrap</span><span class="p">:</span> <span class="n">break-word</span><span class="p">;</span>
            <span class="nl">text-align</span><span class="p">:</span> <span class="nb">center</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>Images are loaded as background images. Instead of manually setting the images, I use a for loop in scss! Quite fun, although you still have to manually set the maximum number of images and also ensure the naming of your images is standardized.</p>
<div class="language-scss highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">@for</span> <span class="nv">$i</span> <span class="ow">from</span> <span class="m">0</span> <span class="ow">through</span> <span class="m">7</span> <span class="p">{</span>
    <span class="nc">.page</span><span class="o">[</span><span class="nt">data-page</span><span class="o">=</span><span class="s2">"</span><span class="si">#{</span><span class="nv">$i</span><span class="si">}</span><span class="s2">"</span><span class="o">]</span> <span class="p">{</span>
        <span class="nc">.page__image</span> <span class="p">{</span>
            <span class="nl">background-image</span><span class="p">:</span> <span class="sx">url("../img/img</span><span class="si">#{</span><span class="nv">$i</span><span class="si">}</span><span class="sx">-small.jpg")</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<h2 id="javascript">Javascript</h2>
<p>Alright, I use jQuery to help decide which page is active and which is not. I first create an array of all my pages. I keep track of the current page and what comes before and after it.</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">let</span> <span class="nx">slides</span> <span class="o">=</span> <span class="p">[]</span>
<span class="kd">const</span> <span class="nx">PAGES</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="s1">'.page'</span><span class="p">);</span>
<span class="nx">PAGES</span><span class="p">.</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">index</span><span class="p">,</span> <span class="nx">value</span><span class="p">){</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">setAttribute</span><span class="p">(</span><span class="s1">'data-page'</span><span class="p">,</span> <span class="nx">index</span><span class="p">);</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">index</span><span class="o">==</span><span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">slides</span><span class="p">.</span><span class="nx">push</span><span class="p">({</span>
            <span class="na">current</span><span class="p">:</span> <span class="k">this</span><span class="p">,</span>
            <span class="na">prev</span><span class="p">:</span> <span class="nx">PAGES</span><span class="p">[</span><span class="nx">PAGES</span><span class="p">.</span><span class="nx">length</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span>
            <span class="na">next</span><span class="p">:</span> <span class="nx">PAGES</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
        <span class="p">})</span>
    <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">index</span><span class="o">==</span><span class="nx">PAGES</span><span class="p">.</span><span class="nx">length</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">slides</span><span class="p">.</span><span class="nx">push</span><span class="p">({</span>
            <span class="na">current</span><span class="p">:</span> <span class="k">this</span><span class="p">,</span>
            <span class="na">prev</span><span class="p">:</span> <span class="nx">PAGES</span><span class="p">[</span><span class="nx">PAGES</span><span class="p">.</span><span class="nx">length</span><span class="o">-</span><span class="mi">2</span><span class="p">],</span>
            <span class="na">next</span><span class="p">:</span> <span class="nx">PAGES</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="p">})</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="nx">slides</span><span class="p">.</span><span class="nx">push</span><span class="p">({</span>
            <span class="na">current</span><span class="p">:</span> <span class="k">this</span><span class="p">,</span>
            <span class="na">prev</span><span class="p">:</span> <span class="nx">PAGES</span><span class="p">[</span><span class="nx">index</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span>
            <span class="na">next</span><span class="p">:</span> <span class="nx">PAGES</span><span class="p">[</span><span class="nx">index</span><span class="o">+</span><span class="mi">1</span><span class="p">]</span>
        <span class="p">})</span>
    <span class="p">}</span>
<span class="p">})</span>
</code></pre></div></div>

<p>Then using the <code class="highlighter-rouge">$(window).scroll</code> event handler, we bind a function to it that calculates the pageYOffset (how far down the user has scrolled). I define a variable called <code class="highlighter-rouge">page_progress</code> which is the page offset divided by the height of the window. If the rounded number is larger than the current number of pages travelled, I increment number of pages travelled and fadeIn the new image so the the new image has an opacity of 1 and overlaps the previous images. So the logic is that we don’t remove the images, imagine the images all stacked on each other (because they have the same fixed position due to <code class="highlighter-rouge">left: 0 top: 0;</code>) and they are all transparent (<code class="highlighter-rouge">opacity: 0</code>). When I’ve scrolled past a certain limit, they become opaque. Image 1 is at the bottom, then Image 2 is stacked on it, meaning the last Image is right at the top of the stack. (On hindsight, is it a stack implementation?) Somewhat haha.</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">height</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="nb">window</span><span class="p">).</span><span class="nx">height</span><span class="p">();</span>
<span class="kd">let</span> <span class="nx">num_pages_travelled</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="kd">const</span> <span class="nx">max_pages</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="s1">'.page'</span><span class="p">).</span><span class="nx">length</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span> 

<span class="nx">$</span><span class="p">(</span><span class="nb">window</span><span class="p">).</span><span class="nx">scroll</span><span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">let</span> <span class="nx">page_progress</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">round</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">pageYOffset</span><span class="o">/</span><span class="nx">height</span><span class="p">);</span>
    <span class="nx">page_progress</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">min</span><span class="p">(</span><span class="nx">page_progress</span><span class="p">,</span> <span class="nx">max_pages</span><span class="p">);</span>

    <span class="k">if</span> <span class="p">(</span><span class="nx">page_progress</span> <span class="o">&gt;</span> <span class="nx">num_pages_travelled</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">num_pages_travelled</span><span class="o">++</span><span class="p">;</span>
        <span class="kd">let</span> <span class="nx">next</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="nx">slides</span><span class="p">[</span><span class="nx">num_pages_travelled</span><span class="p">].</span><span class="nx">current</span><span class="p">);</span>
        <span class="nx">next</span><span class="p">.</span><span class="nx">addClass</span><span class="p">(</span><span class="s1">'active'</span><span class="p">).</span><span class="nx">removeClass</span><span class="p">(</span><span class="s1">'inactive'</span><span class="p">);</span>
        
    <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">page_progress</span> <span class="o">&lt;</span> <span class="nx">num_pages_travelled</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">let</span> <span class="nx">past</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="nx">slides</span><span class="p">[</span><span class="nx">num_pages_travelled</span><span class="p">].</span><span class="nx">current</span><span class="p">);</span>
        <span class="nx">past</span><span class="p">.</span><span class="nx">removeClass</span><span class="p">(</span><span class="s1">'active'</span><span class="p">).</span><span class="nx">addClass</span><span class="p">(</span><span class="s1">'inactive'</span><span class="p">);</span>
        <span class="nx">num_pages_travelled</span><span class="o">--</span><span class="p">;</span>          
    <span class="p">}</span>
<span class="p">});</span>

</code></pre></div></div>

<h2 id="image-transitions">Image Transitions</h2>
<p>I used CSS animations and keyframes to animate fade in and fade out tranisitons by altering opacity of the images.</p>

<div class="language-css highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nc">.active</span> <span class="p">{</span>
    <span class="err">.page__image</span> <span class="err">{</span>
        <span class="nl">animation</span><span class="p">:</span> <span class="n">fadeIn</span> <span class="m">0.4s</span> <span class="n">ease</span> <span class="nb">both</span><span class="p">;</span>
    <span class="p">}</span>
<span class="err">}</span>

<span class="nc">.inactive</span> <span class="p">{</span>
    <span class="err">.page__image</span> <span class="err">{</span>
        <span class="nl">animation</span><span class="p">:</span> <span class="n">fadeOut</span> <span class="m">0.4s</span> <span class="n">ease</span> <span class="nb">both</span><span class="p">;</span>
    <span class="p">}</span>
<span class="err">}</span>

<span class="k">@keyframes</span> <span class="n">fadeIn</span> <span class="p">{</span>
   <span class="nt">0</span><span class="o">%</span> <span class="p">{</span><span class="nl">opacity</span><span class="p">:</span><span class="m">0</span><span class="p">;}</span>
   <span class="nt">50</span><span class="o">%</span> <span class="p">{</span><span class="nl">opacity</span><span class="p">:</span><span class="m">0.5</span><span class="p">;}</span>
   <span class="nt">100</span><span class="o">%</span> <span class="p">{</span><span class="nl">opacity</span><span class="p">:</span><span class="m">1</span><span class="p">;}</span>
<span class="p">}</span>

<span class="k">@keyframes</span> <span class="n">fadeOut</span> <span class="p">{</span>
   <span class="nt">0</span><span class="o">%</span> <span class="p">{</span><span class="nl">opacity</span><span class="p">:</span><span class="m">1</span><span class="p">;}</span>
   <span class="nt">50</span><span class="o">%</span> <span class="p">{</span><span class="nl">opacity</span><span class="p">:</span><span class="m">0.5</span><span class="p">;}</span>
   <span class="nt">100</span><span class="o">%</span> <span class="p">{</span><span class="nl">opacity</span><span class="p">:</span><span class="m">0</span><span class="p">;}</span>    
<span class="p">}</span>
</code></pre></div></div>

<p>The animation is applied on classes which would be added or removed on the HTML elements using jQuery.</p>

<h2 id="responsiveness">Responsiveness</h2>
<p>Add media query at the 767/768 breakpoint! So now the image and text both take up 100% width and the text is placed at the top. It has a nice scrolling/parallax effect that was kind of unintended hehe.</p>

<h2 id="image-resizing">Image Resizing</h2>
<p>My images were taken with a semi-good camera. The dimensions were like ranging from 2000 pixels x 1000 pixels. Granted, the loading speed for images was so high it took too long to load the page.</p>

<p><img src="/assets/posts/007.JPG" alt="Speed of Unoptimized Images" class="img-fluid" /></p>

<p>It took 7 seconds (LOL so embarrassed). I had the website up and the scrolling up, I was very proud already. Then come optimizing which is something equally important. We all understand that people on the web can be so impatient and its important to serve files quickly. Thankfully there were two easy remedies:</p>

<ol>
  <li>I used gulp library <code class="highlighter-rouge">gulp-imagemin</code> to help me optimize my images. However, the size of images dropped by 10% at most.</li>
  <li>Thanks to JIayu, I used Imagick to convert and resize the images using the command <code class="highlighter-rouge">convert *.jgp -resize 700x700</code>. It was super effective! Image size dropped by 90% and the resolution didn’t affect the quality of the image much because the image was rendering at a smaller size by the browser anyway.</li>
  <li>For exploration next time: the use of <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/Img">srcset attribute</a> in <code class="highlighter-rouge">&lt;img&gt;</code> to load different assets based on the different screen resolutions.</li>
</ol>

<p>It took about 1.5s in the new page load! Ok not that fantastic but yay! It does motivate people to do more :) 
<img src="/assets/posts/008.JPG" alt="The final speed!" class="img-fluid" /></p>

<h2 id="final-words">Final Words</h2>
<p>IM GLAD I GOT IT OUT. Check out the <a href="https://github.com/kohrongying/danang">repo</a>?</p>

  </div>

</article>

    </div>


  </body>
  
  <footer class="site-footer">
  <div class="container">

    <div class="row footer-col-custom">
      <div class="col-md-4">
        <h2 class="footer-heading">The Rong Things</h2>
        <p>I like simple things and I am a tad bit weird. Just a tad bit. 
</p>
      </div>

      <div class="col-md-8 contact-icons">
          <a href="https://github.com/kohrongying" target="_blank"><i class="fa fa-2x fa-github" aria-hidden="true"></i></a>
          <a href="https://www.linkedin.com/in/rongyingkoh/" target="_blank"><i class="fa fa-2x fa-linkedin" aria-hidden="true"></i></a>
          <a href="mailto:kohrongying@gmail.com" target="_blank"><i class="fa fa-2x fa-envelope" aria-hidden="true"></i></a>
          <a href="https://www.pinterest.com/kohrongying" target="_blank"><i class="fa fa-2x fa-pinterest-p" aria-hidden="true"></i></a>
          <a href="https://www.instagram.com/kickrongying" target="_blank"><i class="fa fa-2x fa-instagram" aria-hidden="true"></i></a>



      </div>

    </div><!-- footer-col-wrapper -->

  </div>
</footer>


</html>
